<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LanHub - Script List</title>
<style>
  body {
    font-family: 'Montserrat', sans-serif;
    background-color: #0a0012;
    color: #fff;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  header {
    background-color: #1a001f;
    padding: 15px;
    font-size: 1.8em;
    font-weight: bold;
    color: #b166ff;
    box-shadow: 0 2px 10px rgba(177,102,255,0.3);
  }

  .searchbar {
    margin: 20px auto;
    width: 90%;
    max-width: 500px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .searchbar input {
    width: 100%;
    padding: 10px 15px;
    border-radius: 10px;
    border: none;
    font-size: 1em;
    outline: none;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  .card {
    background: #1a001f;
    border-radius: 20px;
    padding: 15px;
    box-shadow: 0 0 15px rgba(177,102,255,0.2);
    transition: transform 0.2s, box-shadow 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 20px rgba(177,102,255,0.4);
  }

  .thumbnail {
    width: 100%;
    height: 160px;
    border-radius: 12px;
    object-fit: cover;
    margin-bottom: 10px;
    background: #2b0040;
  }

  .title {
    font-size: 1.1em;
    font-weight: bold;
    margin-bottom: 5px;
    color: #d9a8ff;
  }

  .date {
    font-size: 0.9em;
    color: #aaa;
    margin-bottom: 10px;
  }

  .buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  button {
    background-color: #b166ff;
    border: none;
    border-radius: 8px;
    padding: 8px 15px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover {
    background-color: #933cff;
  }

  footer {
    background-color: #1a001f;
    color: #ccc;
    padding: 15px;
    margin-top: 30px;
    font-size: 0.9em;
  }

  @media (max-width: 600px) {
    .thumbnail {
      height: 140px;
    }
  }
</style>
</head>
<body>

<header>LanHub - Script Collection</header>

<div class="searchbar">
  <input type="text" id="searchInput" placeholder="Search scripts...">
</div>

<div id="scriptsContainer" class="grid"></div>

<footer>© 2025 LanHub. All rights reserved.</footer>

<script>
const scriptsData = [
  {
    id: 1,
    title: "ENTRENCHED WW1",
    date: "Nov 2025",
    gameId: 3678761576,
    script: `print("LanHub Script Loaded - Entrenched WW1")`
  },
  {
    id: 2,
    title: "Dead Rails",
    date: "Oct 2025",
    gameId: 14658443702,
    script: `print("LanHub Script Loaded - Dead Rails")`
  }
];

// Fungsi ambil thumbnail Roblox
function getThumbnail(gameId) {
  return `https://thumbnails.roblox.com/v1/assets?assetIds=${gameId}&size=420x420&format=Png&isCircular=false`;
}

// Render awal
function renderScripts(filter = "") {
  const container = document.getElementById("scriptsContainer");
  container.innerHTML = "";
  scriptsData
    .filter(d => d.title.toLowerCase().includes(filter.toLowerCase()))
    .forEach(data => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <img id="thumb-${data.id}" class="thumbnail" src="" alt="Loading...">
        <div class="title">${data.title}</div>
        <div class="date">Created: ${data.date}</div>
        <div class="buttons">
          <button onclick="copyScript(${data.id})">Copy</button>
          <button onclick="showRaw(${data.id})">Raw</button>
        </div>
      `;
      container.appendChild(card);

      // Load thumbnail
      fetch(getThumbnail(data.gameId))
        .then(res => res.json())
        .then(json => {
          const img = document.getElementById(`thumb-${data.id}`);
          if (json.data && json.data[0] && json.data[0].imageUrl) {
            img.src = json.data[0].imageUrl;
          } else {
            img.src = "https://i.ibb.co/3zM4G2L/lanhub-default.png";
          }
        })
        .catch(() => {
          document.getElementById(`thumb-${data.id}`).src = "https://i.ibb.co/3zM4G2L/lanhub-default.png";
        });
    });
}

function copyScript(id) {
  const script = scriptsData.find(d => d.id === id).script;
  navigator.clipboard.writeText(script);
  alert("✅ Script copied to clipboard!");
}

function showRaw(id) {
  const script = scriptsData.find(d => d.id === id).script;
  const newTab = window.open();
  newTab.document.write(`<pre style="font-family: monospace; background:#0a0012; color:#b166ff; padding:20px;">${script}</pre>`);
}

document.getElementById("searchInput").addEventListener("input", e => {
  renderScripts(e.target.value);
});

renderScripts();
</script>

</body>
</html>
